# Pasos actualizados para crear un humano virtual

1. Descargar [MakeHuman](http://www.makehumancommunity.org/content/downloads.html "Download stable release").
2. Descargar MakeHuman plugin for blender y MHX2 (blender side) de la página de MakeHuman [Plugins for Blender](http://www.makehumancommunity.org/content/plugins.html "Plugins MakeHuman-Blender").
3. Descargar [Blender](https://www.blender.org/download/ "Download Blender").
4. Descargar [Unity](https://unity.com/download "Download Unity").
5. Clonar el repositorio del proyecto [HVUAN](https://github.com/herrera78/hvuan "Repositorio HVUAN").
6. Crear un modelo en MakeHuman según las necesidades, añadiendo siempre una lengua y un Rig preset tipo Default no toes. Exportar el modelo como .mhx2.
7. Dentro de MakeHuman dirigirse al apartado Community y abrir la pestaña Socket, allí se debe habilitar la opción Accept connections, marcando el recuadro en la parte izquierda de la interfaz. De aquí en adelante se debe dejar el MakeHuman abierto.
8. En Blender, instalar los plugins previamente descargados, dirigiéndose a la sección Edit -> Preferences -> Add-ons. Al presionar instalar, se busca la carpeta donde se guardaron los plugins en formato .zip y se confirma la instalación.
9. Dentro de Preferences, dirigirse al apartado Save & Load y seleccionar Auto Run Python Scripts. Para guardar las configuraciones presionar Save Preferences.
10. Dirigirse a la carpeta de instalación de los plugins de blender (usualmente la ruta C:\Users\%user%\AppData\Roaming\BlenderFoundation\Blender\2.93\scripts\addons\import_runtime_mhx2\data\hm8\faceshapes) y reemplazar el archivo visemes.mxa por el archivo visemes.mxa del repositorio clonado.
11. Reiniciar Blender.
12. Importar el .mhx2 a Blender desde el apartado File -> Import -> MakeHuman(.mhx2) y seleccionar el modelo exportado desde MakeHuman, posteriormente, en la parte derecha de la ventana emergente marcar la opción Override Exported Data, en las opciones que se abren, seleccionar Face Shapes, y en el apartado Rigging seleccionar Add Rig, posteriormente presionar el botón import MHX2.
13. Los plugins instalados aparecerán en la parte derecha de la interfaz de Blender, en la pestaña MakeHuman, allí, se debe presionar Sync with MH. Una vez el proceso termine, dirigrise al apartado MHX2 Runtime (también de los plugins instalados) y seleccionar los Visemes, al seleccionar cualquiera de estos, veremos reflejada la fonomímica en el modelo importado.
14. En caso de tener problemas al importar las texturas antes que nada poner el blender en modo de texturas presionando la tecla z y moviendo el cursor a la opción de material preview ![image](https://user-images.githubusercontent.com/44117920/135951829-122bcb4d-7591-4774-bd30-f6d148af2f8c.png) luego de esto, si se tiene algun problema con las texturas se va a el modo de shading de blender se selecciona el material con el que haya problema y en el modulo de image as textura, cargamos la textura que nos exporta makehuman al momento de exportar el archivo.
15. Exportar el proyecto como .fbx, para exportar las texturas, se debe seleccionar en blender el path mode en copy como se muestra en la imagen ![image](https://user-images.githubusercontent.com/44117920/135952529-aab94829-cdeb-4469-af55-6b9839bed011.png) Luego presionar el boton de embed textures, que se encuentra al lado de la opción que acabamos de modificar
16. Abrir como un proyecto en Unity el repositorio clonado en el paso 5.
17. Para importar nuestro humano FBX de que exportamos desde blender, lo que debemos hacer ahora es crear una nueva carpeta donde vamos a importar nuestro humano virtual, y solamente arrastramos el FBX hacía unity. Este archivo nos aparecerá sin textura alguna, así que debemos seleccionarlo y en la parte de materials damos click a extract textures y creamos o seleccionamos la carpeta donde estas texturas se extraeran. y así mismo con los materiales
